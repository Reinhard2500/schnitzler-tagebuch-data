<?xml version="1.0" encoding="UTF-8"?>
<netvisConfig xmlns="https://digital-archiv/ns/netvis/config">
    <Nodes>
        <TeiDoc>
            <mandatoryProps>
                <id type="xpath">data($node/@xml:id)</id>
                <label type="xpath">$node//tei:titleStmt/tei:title[@type="main"]/text()</label>
                <detailView type="xpath">app:hrefToDoc($node, 'editions')</detailView>
                <type type="literal">Brief</type>
                <text type="xpath">$node//tei:body//text()</text>
            </mandatoryProps>
            <relations>
                <target>
                    <color>#669900</color>
                    <xpath>$node//tei:back//tei:person</xpath>
                    <relationType>erwähnt</relationType>
                    <mandatoryProps>
                        <id type="xpath">data($node/@xml:id)</id>
                        <label type="xpath">normalize-space(string-join($node//tei:persName//text(), ' '))</label>
                        <detailView type="literal">some_link</detailView>
                        <type type="literal">Person</type>
                        <relationType type="literal">erwähnt Person</relationType>
                    </mandatoryProps>
                </target>
                <target>
                    <color>#669900</color>
                    <xpath>$node//tei:back//tei:place</xpath>
                    <relationType>erwähnt</relationType>
                    <mandatoryProps>
                        <id type="xpath">data($node/@xml:id)</id>
                        <label type="xpath">normalize-space(string-join($node//tei:placeName/text(), ' '))</label>
                        <detailView type="literal">some_link</detailView>
                        <type type="literal">Place</type>
                        <relationType type="literal">erwähnt Ort</relationType>
                    </mandatoryProps>
                </target>
                <target>
                    <color>#669900</color>
                    <xpath>$node//tei:back//tei:bibl</xpath>
                    <relationType>erwähnt</relationType>
                    <mandatoryProps>
                        <id type="xpath">concat('bibl_', data($node/@xml:id))</id>
                        <label type="xpath">normalize-space(string-join($node/tei:title/text(), ' '))</label>
                        <detailView type="literal">some_link</detailView>
                        <type type="literal">Werk</type>
                        <relationType type="literal">erwähnt Werk</relationType>
                    </mandatoryProps>
                </target>
            </relations>
        </TeiDoc>
        <Person>
            <idLookup type="xpath"/>
        </Person>
    </Nodes>
    <NodeTypes>
        <node>
            <id>Brief</id>
            <color>#006699</color>
            <label>Brief</label>
        </node>
        <node>
            <id>Person</id>
            <color>#006692</color>
            <label>Person</label>
        </node>
        <node>
            <id>Place</id>
            <color>#006442</color>
            <label>Place</label>
        </node>
        <node>
            <id>Werk</id>
            <color>#007442</color>
            <label>Werk</label>
        </node>
    </NodeTypes>
</netvisConfig>